# ê°„ë‹¨í•œ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°

[ê³µì‹ë¬¸ì„œ ì°¸ê³ ](https://storybook.js.org/tutorials/intro-to-storybook/react/ko/simple-component/)

ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ê°œë°œ(Component-Driven Development) (CDD) ë°©ë²•ë¡ 

### ì˜ˆì œ (Task Component)

- ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê¸° ìœ„í•´, ìœ„ì—ì„œ ì‚´í´ë³¸ ì—¬ëŸ¬ ìœ í˜•ì˜ taskì— í•´ë‹¹í•˜ëŠ” í…ŒìŠ¤íŠ¸ stateë¥¼ ì‘ì„±
- ëª¨ì˜ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ë…ë¦½ì  í™˜ê²½ì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ì¶•í•˜ê¸° ìœ„í•´ Storybookì„ ì‚¬ìš©
- ê° stateì— ë”°ë¥¸ ì»´í¬ë„ŒíŠ¸ì˜ ëª¨ìŠµì„ ìˆ˜ë™ í…ŒìŠ¤íŠ¸

### ì„¤ì •

Task ì»´í¬ë„ŒíŠ¸, ìŠ¤í† ë¦¬ íŒŒì¼ ìƒì„±

- src/components/Task.js
- src/components/Task.stories.js

### ì»´í¬ë„ŒíŠ¸ ê¸°ë³¸ êµ¬í˜„

```js
// src/components/Task.js

import React from "react";

export default function Task({
  task: { id, title, state },
  onArchiveTask,
  onPinTask,
}) {
  return (
    <div className="list-item">
      <input type="text" value={title} readOnly={true} />
    </div>
  );
}
```

Taskì˜ ì„¸ ê°€ì§€ í…ŒìŠ¤íŠ¸ state

```js
// src/components/Task.stories.js

import React from "react";
import Task from "./Task";

export default {
  component: Task,
  title: "Task",
};

const Template = (args) => <Task {...args} />;

export const Default = Template.bind({});
Default.args = {
  task: {
    id: "1",
    title: "Test Task",
    state: "TASK_INBOX",
    updatedAt: new Date(2018, 0, 1, 9, 0),
  },
};

export const Pinned = Template.bind({});
Pinned.args = {
  task: {
    ...Default.args.task,
    state: "TASK_PINNED",
  },
};

export const Archived = Template.bind({});
Archived.args = {
  task: {
    ...Default.args.task,
    state: "TASK_ARCHIVED",
  },
};
```

- Storybookì€ ì»´í¬ë„ŒíŠ¸, ìŠ¤í† ë¦¬ì˜ ë‘ ê°€ì§€ ê¸°ë³¸ ë‹¨ê³„ë¡œ êµ¬ì„±
- ê° ìŠ¤í† ë¦¬ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì— ëŒ€ì‘
  - ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ì—¬ëŸ¬ ê°œì˜ ìŠ¤í† ë¦¬ ìƒì„± ê°€ëŠ¥

### Template.bind({})

- í•¨ìˆ˜ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“œëŠ” í‘œì¤€ JavaScriptì˜ í•œ ê¸°ë²•
- ê°ê°ì˜ ìŠ¤í† ë¦¬ê°€ ê³ ìœ í•œ ì†ì„±ì„ ê°€ì§€ë©° ë™ì¼í•œ êµ¬í˜„ì„ í•˜ë„ë¡ í•¨

### args

- Storybookì„ ë‹¤ì‹œ ì‹œì‘í•˜ì§€ ì•Šê³  Controls addonìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‹¤ì‹œê°„ ìˆ˜ì • ê°€ëŠ¥
- args ê°’ì´ ë³€í•˜ë©´ ì»´í¬ë„ŒíŠ¸ë„ í•¨ê»˜ ë³€í•¨

### main.js

```js
// .storybook/main.js

module.exports = {
  //ğŸ‘‡ Location of our stories
  stories: ["../src/components/**/*.stories.js"],
  addons: [
    "@storybook/addon-links",
    "@storybook/addon-essentials",
    "@storybook/preset-create-react-app",
  ],
};
```

### preview.js

```js
// .storybook/preview.js

import "../src/index.css"; //ğŸ‘ˆ The app's CSS file goes here

//ğŸ‘‡ Configures Storybook to log the actions( onArchiveTask and onPinTask ) in the UI.
export const parameters = {
  actions: { argTypesRegex: "^on[A-Z].*" },
};
```

- ë§¤ê°œë³€ìˆ˜(parameters) : ì¼ë°˜ì ìœ¼ë¡œ Storybookì˜ ê¸°ëŠ¥ê³¼ ì• ë“œì˜¨ì˜ ë™ì‘ì„ ì œì–´í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©
  - actions(mocked callbacks) ì²˜ë¦¬ êµ¬ì„± ê°€ëŠ¥

### States êµ¬í˜„

```js
// src/components/Task.js

import React from "react";

export default function Task({
  task: { id, title, state },
  onArchiveTask,
  onPinTask,
}) {
  return (
    <div className={`list-item ${state}`}>
      <label className="checkbox">
        <input
          type="checkbox"
          defaultChecked={state === "TASK_ARCHIVED"}
          disabled={true}
          name="checked"
        />
        <span className="checkbox-custom" onClick={() => onArchiveTask(id)} />
      </label>
      <div className="title">
        <input
          type="text"
          value={title}
          readOnly={true}
          placeholder="Input title"
        />
      </div>
      <div className="actions" onClick={(event) => event.stopPropagation()}>
        {state !== "TASK_ARCHIVED" && (
          // eslint-disable-next-line jsx-a11y/anchor-is-valid
          <a onClick={() => onPinTask(id)}>
            <span className={`icon-star`} />
          </a>
        )}
      </div>
    </div>
  );
}
```
